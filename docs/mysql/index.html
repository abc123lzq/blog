<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>操作数据库 database | lzq技术分享</title>
    <meta name="description" content="花里胡哨">
    <link rel="icon" href="/blog/22026946.jpg?v=2">
    
    <link rel="preload" href="/blog/assets/css/0.styles.084a55d7.css" as="style"><link rel="preload" href="/blog/assets/js/app.fa8ed7ae.js" as="script"><link rel="preload" href="/blog/assets/js/2.7c68edec.js" as="script"><link rel="preload" href="/blog/assets/js/50.980f10c0.js" as="script"><link rel="preload" href="/blog/assets/js/3.3e80c302.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.16770a6a.js"><link rel="prefetch" href="/blog/assets/js/11.674a250b.js"><link rel="prefetch" href="/blog/assets/js/12.3e6ee1b0.js"><link rel="prefetch" href="/blog/assets/js/13.bd3fceb7.js"><link rel="prefetch" href="/blog/assets/js/14.ab750cc4.js"><link rel="prefetch" href="/blog/assets/js/15.9492852f.js"><link rel="prefetch" href="/blog/assets/js/16.d29f8fd6.js"><link rel="prefetch" href="/blog/assets/js/17.f021f7c2.js"><link rel="prefetch" href="/blog/assets/js/18.6969e4bc.js"><link rel="prefetch" href="/blog/assets/js/19.60584aac.js"><link rel="prefetch" href="/blog/assets/js/20.32ef31c8.js"><link rel="prefetch" href="/blog/assets/js/21.39bf8ff5.js"><link rel="prefetch" href="/blog/assets/js/22.1dfc164c.js"><link rel="prefetch" href="/blog/assets/js/23.b6ad7e5b.js"><link rel="prefetch" href="/blog/assets/js/24.ad902e5c.js"><link rel="prefetch" href="/blog/assets/js/25.f01e31e9.js"><link rel="prefetch" href="/blog/assets/js/26.7fc40730.js"><link rel="prefetch" href="/blog/assets/js/27.cbb8d9ec.js"><link rel="prefetch" href="/blog/assets/js/28.1773ca99.js"><link rel="prefetch" href="/blog/assets/js/29.2550320d.js"><link rel="prefetch" href="/blog/assets/js/30.db593733.js"><link rel="prefetch" href="/blog/assets/js/31.d1fabe26.js"><link rel="prefetch" href="/blog/assets/js/32.ab7194c4.js"><link rel="prefetch" href="/blog/assets/js/33.4ef9af75.js"><link rel="prefetch" href="/blog/assets/js/34.8003cfdf.js"><link rel="prefetch" href="/blog/assets/js/35.c728ba75.js"><link rel="prefetch" href="/blog/assets/js/36.7fc942f9.js"><link rel="prefetch" href="/blog/assets/js/37.3f44471e.js"><link rel="prefetch" href="/blog/assets/js/38.ea537178.js"><link rel="prefetch" href="/blog/assets/js/39.4b3b3271.js"><link rel="prefetch" href="/blog/assets/js/4.a518768d.js"><link rel="prefetch" href="/blog/assets/js/40.4fc158e5.js"><link rel="prefetch" href="/blog/assets/js/41.1a2514b5.js"><link rel="prefetch" href="/blog/assets/js/42.17576a74.js"><link rel="prefetch" href="/blog/assets/js/43.d1281472.js"><link rel="prefetch" href="/blog/assets/js/44.d9f8a1ee.js"><link rel="prefetch" href="/blog/assets/js/45.996eacd1.js"><link rel="prefetch" href="/blog/assets/js/46.7386b414.js"><link rel="prefetch" href="/blog/assets/js/47.6f6426ab.js"><link rel="prefetch" href="/blog/assets/js/48.04361b67.js"><link rel="prefetch" href="/blog/assets/js/49.6d2224d7.js"><link rel="prefetch" href="/blog/assets/js/5.55eed81d.js"><link rel="prefetch" href="/blog/assets/js/51.8aca5b36.js"><link rel="prefetch" href="/blog/assets/js/52.07e72d7a.js"><link rel="prefetch" href="/blog/assets/js/53.5611f640.js"><link rel="prefetch" href="/blog/assets/js/54.1cb60b93.js"><link rel="prefetch" href="/blog/assets/js/55.d6f0dfb7.js"><link rel="prefetch" href="/blog/assets/js/56.7749e315.js"><link rel="prefetch" href="/blog/assets/js/57.1b93a5ed.js"><link rel="prefetch" href="/blog/assets/js/58.86fab9d5.js"><link rel="prefetch" href="/blog/assets/js/59.9e74747c.js"><link rel="prefetch" href="/blog/assets/js/6.ce1be70b.js"><link rel="prefetch" href="/blog/assets/js/60.a1bad91b.js"><link rel="prefetch" href="/blog/assets/js/61.98d14240.js"><link rel="prefetch" href="/blog/assets/js/62.185c0294.js"><link rel="prefetch" href="/blog/assets/js/7.613af01f.js"><link rel="prefetch" href="/blog/assets/js/8.f057675c.js"><link rel="prefetch" href="/blog/assets/js/9.c1fe6da1.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.084a55d7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">lzq技术分享</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/docs/blog/" class="nav-link">起点</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发者管理平台" class="dropdown-title"><span class="title">开发者管理平台</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/docs/framework/yapi/" class="nav-link">YApi接口管理品台</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/framework/registry/" class="nav-link">npm服务</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/framework/proDebug/" class="nav-link">真机调试</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/docs/javaScript/" class="nav-link">javaScript</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/jQuery/" class="nav-link">jQuery</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/css/" class="nav-link">css</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/ground/" class="nav-link">计算机基础</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/webpack/" class="nav-link">webpack</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/Vue/" class="nav-link">Vue源码解析</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/uniapp/" class="nav-link">uniapp采坑日记</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/React/" class="nav-link">React（生态圈）</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/React2/" class="nav-link">React源码解析（待续）</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/install/" class="nav-link">node(待续）</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="java" class="dropdown-title"><span class="title">java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/docs/install/one.html" class="nav-link">java（待续）</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/install/two.html" class="nav-link">spring（待续）</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="存储" class="dropdown-title"><span class="title">存储</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/docs/mysql/" class="nav-link router-link-exact-active router-link-active">mysql</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/redis/" class="nav-link">redis</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/install/two.html" class="nav-link">云数存储（待续）</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/docs/highYield/" class="nav-link">高质文章</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/pitAll/html2canvas.html" class="nav-link">大杂烩</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/pdf/" class="nav-link">为人三会</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/abc123lzq/itdoc" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/docs/blog/" class="nav-link">起点</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发者管理平台" class="dropdown-title"><span class="title">开发者管理平台</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/docs/framework/yapi/" class="nav-link">YApi接口管理品台</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/framework/registry/" class="nav-link">npm服务</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/framework/proDebug/" class="nav-link">真机调试</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/docs/javaScript/" class="nav-link">javaScript</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/jQuery/" class="nav-link">jQuery</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/css/" class="nav-link">css</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/ground/" class="nav-link">计算机基础</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/webpack/" class="nav-link">webpack</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/Vue/" class="nav-link">Vue源码解析</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/uniapp/" class="nav-link">uniapp采坑日记</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/React/" class="nav-link">React（生态圈）</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/React2/" class="nav-link">React源码解析（待续）</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/install/" class="nav-link">node(待续）</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="java" class="dropdown-title"><span class="title">java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/docs/install/one.html" class="nav-link">java（待续）</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/install/two.html" class="nav-link">spring（待续）</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="存储" class="dropdown-title"><span class="title">存储</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/docs/mysql/" class="nav-link router-link-exact-active router-link-active">mysql</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/redis/" class="nav-link">redis</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/install/two.html" class="nav-link">云数存储（待续）</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/docs/highYield/" class="nav-link">高质文章</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/pitAll/html2canvas.html" class="nav-link">大杂烩</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/pdf/" class="nav-link">为人三会</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/abc123lzq/itdoc" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog/docs/mysql/" class="active sidebar-link">基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#操作数据库-database" class="sidebar-link">操作数据库 database</a></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#操作数据库表table" class="sidebar-link">操作数据库表table</a></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#操作数据库表内容↓↓↓" class="sidebar-link">操作数据库表内容↓↓↓</a></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#dml" class="sidebar-link">DML</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#insert" class="sidebar-link">INSERT</a></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#update" class="sidebar-link">UPDATE</a></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#delete" class="sidebar-link">DELETE</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#dql" class="sidebar-link">DQL</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#select" class="sidebar-link">SELECT</a></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#where" class="sidebar-link">where</a></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#between…and" class="sidebar-link">between…and</a></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#is-null" class="sidebar-link">is null</a></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#and" class="sidebar-link">and</a></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#or" class="sidebar-link">or</a></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#in" class="sidebar-link">in</a></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#like" class="sidebar-link">like</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#排序" class="sidebar-link">排序</a></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#处理函数" class="sidebar-link">处理函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#lower-转换为小写" class="sidebar-link">lower()转换为小写</a></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#upper-转换为大写" class="sidebar-link">upper()转换为大写</a></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#substr-截取子串" class="sidebar-link">substr()截取子串</a></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#length-获取字段长度" class="sidebar-link">length()获取字段长度</a></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#ifnull-空值处理" class="sidebar-link">ifnull()空值处理</a></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#条件语句" class="sidebar-link">条件语句</a></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#trim-去除首尾空格" class="sidebar-link">trim()去除首尾空格</a></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#round-四舍五入" class="sidebar-link">round()四舍五入</a></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#rand-生成随机数" class="sidebar-link">rand()生成随机数</a></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#str-to-date-字符串转日期类型" class="sidebar-link">strtodate()字符串转日期类型</a></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#date-format-返回格式化后日期" class="sidebar-link">date_format()返回格式化后日期</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#聚合函数" class="sidebar-link">聚合函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#sum-求和函数" class="sidebar-link">sum()求和函数</a></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#avg-取平均值函数" class="sidebar-link">avg()取平均值函数</a></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#max-取得最大值函数" class="sidebar-link">max()取得最大值函数</a></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#min-取得最小值函数" class="sidebar-link">min()取得最小值函数</a></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#count-取得数据总数" class="sidebar-link">count()取得数据总数</a></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#组合聚合函数" class="sidebar-link">组合聚合函数</a></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#distinct去除重复记录" class="sidebar-link">distinct去除重复记录</a></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#group-by分组" class="sidebar-link">group by分组</a></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#having过滤" class="sidebar-link">having过滤</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#子查询" class="sidebar-link">子查询</a></li><li class="sidebar-sub-header"><a href="/blog/docs/mysql/#limit" class="sidebar-link">limit</a></li></ul></li><li><a href="/blog/docs/mysql/advanced.html" class="sidebar-link">进阶</a></li><li><a href="/blog/docs/mysql/performance.html" class="sidebar-link">高性能</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="操作数据库-database"><a href="#操作数据库-database" class="header-anchor">#</a> 操作数据库 database</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 创建数据库</span>
<span class="token keyword">create</span> <span class="token keyword">database</span> myDatabase<span class="token punctuation">;</span>

<span class="token comment">-- 指定字符编码</span>
<span class="token keyword">Create</span> <span class="token keyword">database</span> myDatabase <span class="token keyword">character</span> <span class="token keyword">set</span> gbk<span class="token punctuation">;</span>

<span class="token comment">-- 查看数据库</span>
<span class="token keyword">show</span> <span class="token keyword">databases</span><span class="token punctuation">;</span>

<span class="token comment">-- 查看数据的定义信息</span>
<span class="token keyword">show</span> <span class="token keyword">create</span> <span class="token keyword">database</span> myDatabase

<span class="token comment">-- 修改数据库</span>
<span class="token comment">-- 将数据库的编码修改为utf-8</span>
<span class="token keyword">alter</span> <span class="token keyword">database</span> myDatabase <span class="token keyword">character</span> <span class="token keyword">set</span> utf8<span class="token punctuation">;</span>

<span class="token comment">-- 删除数据库</span>
<span class="token keyword">drop</span> <span class="token keyword">database</span> myDatabase<span class="token punctuation">;</span>

<span class="token comment">-- 查看当前使用的数据库</span>
<span class="token keyword">select</span> <span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 切换数据库</span>
<span class="token keyword">use</span> myDatabase<span class="token punctuation">;</span>
</code></pre></div><h2 id="操作数据库表table"><a href="#操作数据库表table" class="header-anchor">#</a> 操作数据库表table</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> NumberList<span class="token punctuation">(</span>
    id <span class="token keyword">int</span>  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span>  <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    job <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="常用的字段数据类型："><a href="#常用的字段数据类型：" class="header-anchor">#</a> 常用的字段数据类型：</h4> <div class="language-md extra-class"><pre class="language-md"><code>int：整型
double：浮点型，例如double(5,2)表示最多5位，其中必须有2位小数，即最大值为999.99；
char：固定长度字符串类型； char(10)  如果不足10位则会自动补足10位：'abc       '
varchar：可变长度字符串类型；varchar(10) 如果不足10位不会补足：'abc',性能不如char高
text：字符串类型;适用于大文本内容。
blob：字节类型；
date：日期类型，格式为：yyyy-MM-dd；
time：时间类型，格式为：hh:mm:ss
timestamp：时间戳类型 yyyy-MM-dd hh:mm:ss  会自动赋值
datetime:日期时间类型 yyyy-MM-dd hh:mm:ss
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 查看数据库中所有的表</span>
<span class="token keyword">SHOW</span> <span class="token keyword">TABLES</span><span class="token punctuation">;</span>

<span class="token comment">-- 查看表的字段信息</span>
<span class="token keyword">DESC</span> NumberList<span class="token punctuation">;</span>

<span class="token comment">-- 在表的基本上增加一个列。</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> NumberList <span class="token keyword">ADD</span> xinzi <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 修改job列，使其长度为30</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> NumberList <span class="token keyword">MODIFY</span> job <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 删除address列,一次只能删一列。</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> NumberList <span class="token keyword">DROP</span> address<span class="token punctuation">;</span>

<span class="token comment">-- 表名改为user。</span>
<span class="token keyword">RENAME</span> <span class="token keyword">TABLE</span> NumberList <span class="token keyword">TO</span> <span class="token keyword">user</span><span class="token punctuation">;</span>

<span class="token comment">-- 查看表格的创建细节</span>
<span class="token keyword">SHOW</span> <span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> NumberList<span class="token punctuation">;</span>

<span class="token comment">-- 修改表的字符集为gbk</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> NumberList <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> gbk

<span class="token comment">-- 列名name修改为username</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> NumberList name username <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 删除表</span>
<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> NumberList <span class="token punctuation">;</span>
</code></pre></div><h2 id="操作数据库表内容↓↓↓"><a href="#操作数据库表内容↓↓↓" class="header-anchor">#</a> 操作数据库表内容↓↓↓</h2> <h2 id="dml"><a href="#dml" class="header-anchor">#</a> DML</h2> <p>DML是对数据库表中的数据进行<code>增、删、改</code>的操作。</p> <p><strong>先在数据库中创建一张员工表NumberList</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> NumberList<span class="token punctuation">(</span>
    id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span>  <span class="token keyword">AUTO_INCREMENT</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    job <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    xinzi <span class="token keyword">float</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> 
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="insert"><a href="#insert" class="header-anchor">#</a> INSERT</h3> <div class="custom-block tip"><p class="custom-block-title">注意</p> <ol><li>字段名与值的类型、个数、顺序要对应上。</li> <li>值不要超出字段定义的长度，否则会报错。</li> <li>如果插入空值，需要使用null。</li> <li>插入的日期和字符都使用单引号括起来。</li></ol></div> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 单条添加</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> NumberList <span class="token punctuation">(</span>name<span class="token punctuation">,</span>job<span class="token punctuation">,</span>xinzi<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'andy'</span><span class="token punctuation">,</span><span class="token string">'前端'</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> NumberList <span class="token punctuation">(</span>name<span class="token punctuation">,</span>job<span class="token punctuation">,</span>xinzi<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'paul'</span><span class="token punctuation">,</span><span class="token string">'后端'</span><span class="token punctuation">,</span><span class="token number">9999</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> NumberList <span class="token punctuation">(</span>name<span class="token punctuation">,</span>job<span class="token punctuation">,</span>xinzi<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'lucy'</span><span class="token punctuation">,</span><span class="token string">'运维'</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">-- 批量添加数据</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> NumberList <span class="token punctuation">(</span>name<span class="token punctuation">,</span>job<span class="token punctuation">,</span>xinzi<span class="token punctuation">)</span> <span class="token keyword">VALUES</span>
<span class="token punctuation">(</span><span class="token string">'james'</span><span class="token punctuation">,</span><span class="token string">'产品'</span><span class="token punctuation">,</span><span class="token number">15000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'marry'</span><span class="token punctuation">,</span><span class="token string">'测试'</span><span class="token punctuation">,</span><span class="token number">7000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'carter'</span><span class="token punctuation">,</span>设计<span class="token punctuation">,</span><span class="token number">8888</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="update"><a href="#update" class="header-anchor">#</a> UPDATE</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 将NumberList表中所有员工的薪水改成3000</span>
<span class="token keyword">UPDATE</span> NumberList <span class="token keyword">SET</span> xinzi<span class="token operator">=</span><span class="token number">3000</span><span class="token punctuation">;</span>

<span class="token comment">-- 将后端的薪水改成999999</span>
<span class="token keyword">UPDATE</span> NumberList <span class="token keyword">SET</span> xinzi<span class="token operator">=</span><span class="token number">999999</span> <span class="token keyword">where</span> job<span class="token operator">=</span><span class="token string">'后端'</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="delete"><a href="#delete" class="header-anchor">#</a> DELETE</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 删除表中的全部数据</span>
<span class="token keyword">DELETE</span> <span class="token keyword">from</span> NumberList<span class="token punctuation">;</span>

<span class="token comment">-- 删除name是lucy的数据</span>
<span class="token keyword">DELETE</span> <span class="token keyword">from</span> NumberList <span class="token keyword">where</span> name<span class="token operator">=</span><span class="token string">'lucy'</span><span class="token punctuation">;</span>

<span class="token comment">-- 使用TRUNCATE删除数据</span>
<span class="token keyword">TRUNCATE</span> <span class="token keyword">TABLE</span> NumberList<span class="token punctuation">;</span>
</code></pre></div><p><strong>DELETE和TRUNCATE的区别：</strong></p> <blockquote><p>DELETE只是删除表中的数据，不删除表，删除后的数据可以恢复。（开发中通常使用DELETE。）</p></blockquote> <blockquote><p>TRUNCATE删除是把表直接DROP掉，然后再创建一个同样的新表。删除的数据不能找回。执行速度比DELETE快。</p></blockquote> <h2 id="dql"><a href="#dql" class="header-anchor">#</a> DQL</h2> <p>DQL中要是用来查询数据库中的数据,<code>不会修改原数据</code></p> <div class="custom-block tip"><p class="custom-block-title">语法</p> <p>SELECT 字段名 FROM 表名 [WHERE –&gt; GROUP BY –&gt;HAVING–&gt; ORDER BY];</p></div> <h3 id="select"><a href="#select" class="header-anchor">#</a> SELECT</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 查询员工姓名</span>
<span class="token keyword">select</span> name <span class="token keyword">from</span> NumberList<span class="token punctuation">;</span>

<span class="token comment">-- 查询员工姓名和职位</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>job <span class="token keyword">from</span> NumberList<span class="token punctuation">;</span>

<span class="token comment">-- 查询表中的全部字段</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> NumberList<span class="token punctuation">;</span>

<span class="token comment">-- 查询员工编号，姓名和年薪 </span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>xinzi<span class="token operator">*</span><span class="token number">12</span> <span class="token keyword">from</span> NumberList<span class="token punctuation">;</span>

<span class="token comment">-- 将查询出的字段名称进行重命名</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>xinzi <span class="token operator">*</span> <span class="token number">12</span> <span class="token keyword">as</span> yearsal <span class="token keyword">from</span> NumberList<span class="token punctuation">;</span>

<span class="token comment">-- 其中as可以省略*</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>xinzi <span class="token operator">*</span> <span class="token number">12</span> yearsal <span class="token keyword">from</span> NumberList<span class="token punctuation">;</span>

<span class="token comment">-- 可以显示中文</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>xinzi <span class="token operator">*</span> <span class="token number">12</span> <span class="token keyword">as</span> <span class="token string">'年薪'</span> <span class="token keyword">from</span> NumberList<span class="token punctuation">;</span>
</code></pre></div><h3 id="where"><a href="#where" class="header-anchor">#</a> where</h3> <p>条件查询需要使用where，并且where需要放到from 表的后面</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 查询薪水是5000的员工</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>xinzi <span class="token keyword">from</span> NumberList <span class="token keyword">where</span> xinzi<span class="token operator">=</span> <span class="token number">5000</span><span class="token punctuation">;</span>

<span class="token comment">-- 查询job是MANAGER的员工</span>
<span class="token keyword">select</span> job <span class="token keyword">from</span> NumberList <span class="token keyword">where</span> job <span class="token operator">=</span> <span class="token string">'后端'</span><span class="token punctuation">;</span>

<span class="token comment">-- 查询薪水不等于5000的员工</span>
<span class="token comment">-- 在mysql中&lt;&gt;表示不等于，!=也表示不等于,两者的含义和使用方式是一样的。</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>xinzi <span class="token keyword">from</span> NumberList <span class="token keyword">where</span> xinzi <span class="token operator">&lt;&gt;</span> <span class="token number">5000</span><span class="token punctuation">;</span>

<span class="token comment">-- 查询薪水为1600到3000的员工</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>xinzi <span class="token keyword">from</span> NumberList <span class="token keyword">where</span> xinzi <span class="token operator">&gt;=</span> <span class="token number">1600</span> <span class="token operator">and</span> xinzi <span class="token operator">&lt;=</span> <span class="token number">3000</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="between…and"><a href="#between…and" class="header-anchor">#</a> between…and</h3> <p>符合范围内的</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> name<span class="token punctuation">,</span>xinzi <span class="token keyword">from</span> NumberList <span class="token keyword">where</span> xinzi <span class="token operator">between</span> <span class="token number">1600</span> <span class="token operator">and</span> <span class="token number">3000</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="is-null"><a href="#is-null" class="header-anchor">#</a> is null</h3> <p>为空</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 查询薪资为空的员工</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>xinzi <span class="token keyword">from</span> NumberList <span class="token keyword">where</span> xinzi <span class="token operator">is</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
<span class="token comment">-- 查询津贴不为空的员工</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>xinzi <span class="token keyword">from</span> NumberList <span class="token keyword">where</span> xinzi <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="and"><a href="#and" class="header-anchor">#</a> and</h3> <p>表示且，可以在where后面可以添加多个限制条件。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 查询工作岗位为“前端”并且薪水大于2500的员工</span>
<span class="token keyword">select</span> name xinzi <span class="token keyword">from</span> NumberList <span class="token keyword">where</span> job <span class="token operator">=</span><span class="token string">'前端'</span> <span class="token operator">and</span> xinzi <span class="token operator">&gt;</span> <span class="token number">2500</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="or"><a href="#or" class="header-anchor">#</a> or</h3> <p>表示或，只要满足一项条件即可。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 查询出 job 为后端 或 name为MANAGER的员工：</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>job <span class="token keyword">from</span> NumberList <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">'SALESMAN'</span> <span class="token operator">or</span> job <span class="token operator">=</span> <span class="token string">'后端'</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">and和or表达式的优先级</p> <p>and优先级高于or</p></div> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 查询薪水大于1800，并且部门编号为20或30的员工：</span>
<span class="token comment">-- 说明：因为and优先级高于or，所以将两个or条件使用括号括起来。</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> NumberList <span class="token keyword">where</span> job<span class="token operator">=</span><span class="token string">'前端'</span> <span class="token operator">and</span> <span class="token punctuation">(</span>xinzi<span class="token operator">=</span><span class="token number">1000</span> <span class="token operator">or</span> xinzi<span class="token operator">=</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="in"><a href="#in" class="header-anchor">#</a> in</h3> <p>只要满足一项条件即可，完全可以采用or来表示，采用in会更简洁一些</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 查询出name是SALESMAN或者是MANAGER的</span>
<span class="token keyword">select</span> ename<span class="token punctuation">,</span>job <span class="token keyword">from</span> NumberList <span class="token keyword">where</span> name <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token string">'SALESMAN'</span><span class="token punctuation">,</span><span class="token string">'MANAGER'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- 查询出薪水不是1600和3000的员工：</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>xinzi <span class="token keyword">from</span> NumberList <span class="token keyword">where</span> xinzi <span class="token operator">not</span> <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token number">1600</span><span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="like"><a href="#like" class="header-anchor">#</a> like</h3> <p>模糊查询，在数据量较大的情况下，使用like会影响性能。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 查询姓名以M开头的所有员工</span>
<span class="token keyword">select</span> name <span class="token keyword">from</span> NumberList <span class="token keyword">where</span>  name <span class="token operator">like</span> <span class="token string">'M%'</span><span class="token punctuation">;</span>
<span class="token comment">-- 查询姓名以N结尾的所有员工</span>
<span class="token keyword">select</span> name <span class="token keyword">from</span> NumberList <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">'%N'</span><span class="token punctuation">;</span>
<span class="token comment">-- 查询姓名中包含O的所有员工</span>
<span class="token keyword">select</span> name <span class="token keyword">from</span> NumberList <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">'%O%'</span><span class="token punctuation">;</span>
<span class="token comment">-- 查询姓名中第二个字母是A的所有员工</span>
<span class="token keyword">select</span> name <span class="token keyword">from</span> NumberList <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">'_A%'</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="排序"><a href="#排序" class="header-anchor">#</a> 排序</h2> <p>排序order by后面写上要排序字段，排序字段可以有多个，多个采用逗号间隔，order by默认采用升序（asc）排序，可以手动设置为降序(desc)</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 薪水升序</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>xinzi <span class="token keyword">from</span> NumberList <span class="token keyword">order</span> <span class="token keyword">by</span> sal <span class="token keyword">asc</span><span class="token punctuation">;</span>
<span class="token comment">-- 薪水降序</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>xinzi <span class="token keyword">from</span> NumberList <span class="token keyword">order</span> <span class="token keyword">by</span> sal <span class="token keyword">desc</span><span class="token punctuation">;</span>

<span class="token comment">-- 默认升序:</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>xinzi <span class="token keyword">from</span> NumberList <span class="token keyword">order</span> <span class="token keyword">by</span> sal<span class="token punctuation">;</span>

<span class="token comment">-- order by需要放到where后面</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>job<span class="token punctuation">,</span>xinzi <span class="token keyword">from</span> NumberList <span class="token keyword">where</span> job <span class="token operator">=</span> <span class="token string">'后端'</span> <span class="token keyword">order</span> <span class="token keyword">by</span> sal<span class="token punctuation">;</span>

<span class="token comment">-- 采用多个字段排序时，如果根据第一个字段排序重复了，会根据第二个字段排序</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>job<span class="token punctuation">,</span>xinzi <span class="token keyword">from</span> NumberList <span class="token keyword">order</span> <span class="token keyword">by</span> job <span class="token keyword">desc</span><span class="token punctuation">,</span>xinzi <span class="token keyword">desc</span><span class="token punctuation">;</span>

<span class="token comment">-- 使用字段位置排序</span>
<span class="token comment">-- 不建议采用此方法，含义不明确，可读性不强，程序不健壮</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> NumberList <span class="token keyword">by</span> <span class="token number">6</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="处理函数"><a href="#处理函数" class="header-anchor">#</a> 处理函数</h2> <p>MySQL提供了一些处理函数，在其他数据库管理系统中可能不起作用。</p> <h3 id="lower-转换为小写"><a href="#lower-转换为小写" class="header-anchor">#</a> lower()转换为小写</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> lower<span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">as</span> ename <span class="token keyword">from</span> NumberList<span class="token punctuation">;</span>
</code></pre></div><h3 id="upper-转换为大写"><a href="#upper-转换为大写" class="header-anchor">#</a> upper()转换为大写</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> upper<span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">as</span> ename <span class="token keyword">from</span> NumberList<span class="token punctuation">;</span>
</code></pre></div><h3 id="substr-截取子串"><a href="#substr-截取子串" class="header-anchor">#</a> substr()截取子串</h3> <p>该函数接收3个参数：substr(被截取字段名称,起始下标,截取长度)，起始下标从1开始。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 查询并显示所员工姓名的第二个字母：</span>
<span class="token keyword">select</span> substr<span class="token punctuation">(</span>name<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">from</span> NumberList<span class="token punctuation">;</span>

<span class="token comment">-- 查询员工姓名中第二个字母为A的所有员工：</span>
<span class="token keyword">select</span> name <span class="token keyword">from</span> NumberList <span class="token keyword">where</span> substr<span class="token punctuation">(</span>name<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">'A'</span><span class="token punctuation">;</span>
<span class="token comment">-- 方法二</span>
<span class="token keyword">select</span> name <span class="token keyword">from</span> NumberList <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">'_A%'</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="length-获取字段长度"><a href="#length-获取字段长度" class="header-anchor">#</a> length()获取字段长度</h3> <div class="language-sql extra-class"><pre class="language-sql"><code>取得员工姓名长度
<span class="token keyword">select</span> name<span class="token punctuation">,</span>length<span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">as</span> nameLength <span class="token keyword">from</span> NumberList<span class="token punctuation">;</span>
</code></pre></div><h3 id="ifnull-空值处理"><a href="#ifnull-空值处理" class="header-anchor">#</a> ifnull()空值处理</h3> <p>该函数接收两个参数： ifnull(字段名,替换值)</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 查询员工姓名及补助，如果补助为Null设置为0；</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>ifnull<span class="token punctuation">(</span>xinzi<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">from</span> NumberList<span class="token punctuation">;</span>
</code></pre></div><p>隐式转换int类型进行计算</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 查询员工总薪水： </span>
<span class="token keyword">select</span> xinzi <span class="token operator">+</span> ifnull<span class="token punctuation">(</span>xinzi<span class="token punctuation">)</span> <span class="token keyword">from</span> NumberList<span class="token punctuation">;</span>

<span class="token comment">-- 没有补助的员工，每月补助100，求员工的年薪</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span> <span class="token punctuation">(</span>xinzi <span class="token operator">+</span> ifnull<span class="token punctuation">(</span>xinzi<span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">12</span> yearsal <span class="token keyword">from</span> NumberList<span class="token punctuation">;</span>
</code></pre></div><h3 id="条件语句"><a href="#条件语句" class="header-anchor">#</a> 条件语句</h3> <p><code>case…when…then…else…end</code></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 匹配人员，当为MANAGER时，薪水上调10%，当为SALESMAN时，薪水上调50%，其它岗位薪水不变。</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span> xinzi<span class="token punctuation">,</span> job<span class="token punctuation">,</span> 

    <span class="token punctuation">(</span><span class="token keyword">case</span> name
        <span class="token keyword">when</span> <span class="token string">'MANAGER'</span>  <span class="token keyword">then</span> xinzi <span class="token operator">*</span> <span class="token number">1.1</span>
        <span class="token keyword">when</span> <span class="token string">'SALESMAN'</span> <span class="token keyword">then</span> xinzi <span class="token operator">*</span> <span class="token number">1.5</span>
        <span class="token keyword">else</span>    xinzi
    <span class="token keyword">end</span><span class="token punctuation">)</span> <span class="token keyword">as</span> newxinzi

<span class="token keyword">from</span> NumberList<span class="token punctuation">;</span>
</code></pre></div><h3 id="trim-去除首尾空格"><a href="#trim-去除首尾空格" class="header-anchor">#</a> trim()去除首尾空格</h3> <p>注意：MySQL默认去除字段后面的空格。原因：MySQL语法松散</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 取得工作岗位为manager的所有员工</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> NumberList <span class="token keyword">where</span> name <span class="token operator">=</span> trim<span class="token punctuation">(</span><span class="token string">'  manager  '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="round-四舍五入"><a href="#round-四舍五入" class="header-anchor">#</a> round()四舍五入</h3> <p>该函数接收两个参数round(数字，保留的小数位数)</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 查看员工薪水保留1位小数</span>
<span class="token keyword">select</span> <span class="token function">round</span><span class="token punctuation">(</span>xinzi<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">from</span> NumberList<span class="token punctuation">;</span>
</code></pre></div><h3 id="rand-生成随机数"><a href="#rand-生成随机数" class="header-anchor">#</a> rand()生成随机数</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 会生成一个0~1之间的的随机数，包含0和1。</span>
<span class="token keyword">select</span> rand<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 生成0~100之间的随机数</span>
<span class="token keyword">select</span> <span class="token function">round</span><span class="token punctuation">(</span>rand<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> xinzi <span class="token keyword">from</span> NumberList<span class="token punctuation">;</span>
</code></pre></div><h3 id="str-to-date-字符串转日期类型"><a href="#str-to-date-字符串转日期类型" class="header-anchor">#</a> str_to_date()字符串转日期类型</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 查询02-20-1981年入职的员工    </span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>birdy <span class="token keyword">from</span> NumberList <span class="token keyword">where</span>
 birdy <span class="token operator">=</span> str_to_date<span class="token punctuation">(</span><span class="token string">'02-20-1981'</span><span class="token punctuation">,</span><span class="token string">'%m-%d-%Y'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-md extra-class"><pre class="language-md"><code>%Y 代表四位的年份
%y 代表两位的年份
%m 代表月，格式（01 … 12）
%c 代表月，格式（1 … 12）
%d 代表日
%H 代表24小时制
%h 代表12小时制
%i 代表分种，格式（00 … 59）
%S或%s 代表秒 , 格式(00..59)
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>在MySQL中日期作为查询条件时，可以使用字符串为其赋值，常用格式有三种:</p> <p>2016-06-15 , 2016/06/15 , 20160615</p></div> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 查询1981-02-20年入职的员工</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>birdy <span class="token keyword">from</span> NumberList <span class="token keyword">where</span> birdy <span class="token operator">=</span> <span class="token string">'1981-02-20'</span><span class="token punctuation">;</span>  
</code></pre></div><h3 id="date-format-返回格式化后日期"><a href="#date-format-返回格式化后日期" class="header-anchor">#</a> date_format()返回格式化后日期</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 查询员工的入职日期，以’10-12-1980’的格式显示到窗口中</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>date_format<span class="token punctuation">(</span>birdy<span class="token punctuation">,</span><span class="token string">'%m-%d-%Y'</span><span class="token punctuation">)</span> birdy <span class="token keyword">from</span> NumberList <span class="token punctuation">;</span>
</code></pre></div><h2 id="聚合函数"><a href="#聚合函数" class="header-anchor">#</a> 聚合函数</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>聚合函数在计算时会自动忽略空值，不用手动写sql将空值排除。</p> <p>聚合函数不能直接写在where语句的后面。</p></div> <h3 id="sum-求和函数"><a href="#sum-求和函数" class="header-anchor">#</a> sum()求和函数</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">sum</span><span class="token punctuation">(</span>xinzi<span class="token punctuation">)</span> <span class="token keyword">from</span> NumberList<span class="token punctuation">;</span>
</code></pre></div><h3 id="avg-取平均值函数"><a href="#avg-取平均值函数" class="header-anchor">#</a> avg()取平均值函数</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>xinzi<span class="token punctuation">)</span> <span class="token keyword">as</span> avgxinzi <span class="token keyword">from</span> NumberList<span class="token punctuation">;</span>
</code></pre></div><h3 id="max-取得最大值函数"><a href="#max-取得最大值函数" class="header-anchor">#</a> max()取得最大值函数</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">max</span><span class="token punctuation">(</span>xinzi<span class="token punctuation">)</span> <span class="token keyword">as</span> maxxinzi <span class="token keyword">from</span> NumberList<span class="token punctuation">;</span>
</code></pre></div><h3 id="min-取得最小值函数"><a href="#min-取得最小值函数" class="header-anchor">#</a> min()取得最小值函数</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">min</span><span class="token punctuation">(</span>xinzi<span class="token punctuation">)</span> <span class="token keyword">as</span> minxinzi <span class="token keyword">from</span> NumberList<span class="token punctuation">;</span>
</code></pre></div><h3 id="count-取得数据总数"><a href="#count-取得数据总数" class="header-anchor">#</a> count()取得数据总数</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> NumberList<span class="token punctuation">;</span>

<span class="token comment">-- count()函数不会统计数据为null的记录</span>
<span class="token comment">-- 统计没有薪资的员工数量</span>
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> NumberList <span class="token keyword">where</span> xinzi <span class="token operator">is</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="组合聚合函数"><a href="#组合聚合函数" class="header-anchor">#</a> 组合聚合函数</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- sum、avg、max、min、count这些函数可以一起使用：</span>
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">sum</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">min</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">from</span> NumberList<span class="token punctuation">;</span>
</code></pre></div><h3 id="distinct去除重复记录"><a href="#distinct去除重复记录" class="header-anchor">#</a> distinct去除重复记录</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 查询公司有哪些工作岗位</span>
<span class="token keyword">select</span> <span class="token keyword">distinct</span> job <span class="token keyword">from</span> NumberList<span class="token punctuation">;</span>

<span class="token comment">-- distinct只能出现在所有字段最前面，后面如果有多个字段及为多字段联合去重</span>
<span class="token keyword">select</span> <span class="token keyword">distinct</span> job<span class="token punctuation">,</span>userName <span class="token keyword">from</span> NumberList<span class="token punctuation">;</span>
</code></pre></div><h3 id="group-by分组"><a href="#group-by分组" class="header-anchor">#</a> group by分组</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 找出每个职位的最高薪水</span>
<span class="token keyword">select</span> <span class="token function">max</span><span class="token punctuation">(</span>xinzi<span class="token punctuation">)</span> <span class="token keyword">as</span> maxxinzi <span class="token keyword">from</span> NumberList <span class="token keyword">group</span> <span class="token keyword">by</span> job<span class="token punctuation">;</span>
</code></pre></div><h3 id="having过滤"><a href="#having过滤" class="header-anchor">#</a> having过滤</h3> <p>如果想对分组的数据进行过滤，需要使用having子句。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 找出每个工作岗位的平均薪水，要求显示平均薪水大于2000的</span>
<span class="token keyword">select</span> job<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>xinzi<span class="token punctuation">)</span> <span class="token keyword">from</span> NumberList <span class="token keyword">group</span> <span class="token keyword">by</span> job <span class="token keyword">having</span> <span class="token function">avg</span><span class="token punctuation">(</span>xinzi<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">2000</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">where和having区别</p> <p>where是在 group by之前完成过滤</p> <p>having是在group by之后完成过滤</p></div> <h2 id="子查询"><a href="#子查询" class="header-anchor">#</a> 子查询</h2> <p>select 语句嵌套 select 语句被称为子查询</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 找出薪水比公司平均薪水高的员工，要求显示员工名和薪水</span>
<span class="token keyword">select</span> namne<span class="token punctuation">,</span>xinzi <span class="token keyword">from</span> test1 <span class="token keyword">where</span> xinzi <span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>xinzi<span class="token punctuation">)</span> <span class="token keyword">from</span> test1<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="limit"><a href="#limit" class="header-anchor">#</a> limit</h2> <p>主要用来分页处理，limit(起始下标,长度)关键字只在MySQL中起作用。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 取前5个员工信息</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> test1 <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">;</span>

<span class="token comment">--第五个开始返回100条</span>
elect <span class="token operator">*</span> <span class="token keyword">from</span> test1 <span class="token keyword">limit</span> <span class="token number">5</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">;</span>
</code></pre></div><div id="comment"></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/blog/docs/mysql/advanced.html">进阶</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.fa8ed7ae.js" defer></script><script src="/blog/assets/js/2.7c68edec.js" defer></script><script src="/blog/assets/js/50.980f10c0.js" defer></script><script src="/blog/assets/js/3.3e80c302.js" defer></script>
  </body>
</html>
