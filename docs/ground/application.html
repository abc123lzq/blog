<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HTTP | lzq技术分享</title>
    <meta name="description" content="花里胡哨">
    <link rel="icon" href="/blog/22026946.jpg?v=2">
    
    <link rel="preload" href="/blog/assets/css/0.styles.084a55d7.css" as="style"><link rel="preload" href="/blog/assets/js/app.fa8ed7ae.js" as="script"><link rel="preload" href="/blog/assets/js/2.7c68edec.js" as="script"><link rel="preload" href="/blog/assets/js/35.c728ba75.js" as="script"><link rel="preload" href="/blog/assets/js/3.3e80c302.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.16770a6a.js"><link rel="prefetch" href="/blog/assets/js/11.674a250b.js"><link rel="prefetch" href="/blog/assets/js/12.3e6ee1b0.js"><link rel="prefetch" href="/blog/assets/js/13.bd3fceb7.js"><link rel="prefetch" href="/blog/assets/js/14.ab750cc4.js"><link rel="prefetch" href="/blog/assets/js/15.9492852f.js"><link rel="prefetch" href="/blog/assets/js/16.d29f8fd6.js"><link rel="prefetch" href="/blog/assets/js/17.f021f7c2.js"><link rel="prefetch" href="/blog/assets/js/18.6969e4bc.js"><link rel="prefetch" href="/blog/assets/js/19.60584aac.js"><link rel="prefetch" href="/blog/assets/js/20.32ef31c8.js"><link rel="prefetch" href="/blog/assets/js/21.39bf8ff5.js"><link rel="prefetch" href="/blog/assets/js/22.1dfc164c.js"><link rel="prefetch" href="/blog/assets/js/23.b6ad7e5b.js"><link rel="prefetch" href="/blog/assets/js/24.ad902e5c.js"><link rel="prefetch" href="/blog/assets/js/25.f01e31e9.js"><link rel="prefetch" href="/blog/assets/js/26.7fc40730.js"><link rel="prefetch" href="/blog/assets/js/27.cbb8d9ec.js"><link rel="prefetch" href="/blog/assets/js/28.1773ca99.js"><link rel="prefetch" href="/blog/assets/js/29.2550320d.js"><link rel="prefetch" href="/blog/assets/js/30.db593733.js"><link rel="prefetch" href="/blog/assets/js/31.d1fabe26.js"><link rel="prefetch" href="/blog/assets/js/32.ab7194c4.js"><link rel="prefetch" href="/blog/assets/js/33.4ef9af75.js"><link rel="prefetch" href="/blog/assets/js/34.8003cfdf.js"><link rel="prefetch" href="/blog/assets/js/36.7fc942f9.js"><link rel="prefetch" href="/blog/assets/js/37.3f44471e.js"><link rel="prefetch" href="/blog/assets/js/38.ea537178.js"><link rel="prefetch" href="/blog/assets/js/39.4b3b3271.js"><link rel="prefetch" href="/blog/assets/js/4.a518768d.js"><link rel="prefetch" href="/blog/assets/js/40.4fc158e5.js"><link rel="prefetch" href="/blog/assets/js/41.1a2514b5.js"><link rel="prefetch" href="/blog/assets/js/42.17576a74.js"><link rel="prefetch" href="/blog/assets/js/43.d1281472.js"><link rel="prefetch" href="/blog/assets/js/44.d9f8a1ee.js"><link rel="prefetch" href="/blog/assets/js/45.996eacd1.js"><link rel="prefetch" href="/blog/assets/js/46.7386b414.js"><link rel="prefetch" href="/blog/assets/js/47.6f6426ab.js"><link rel="prefetch" href="/blog/assets/js/48.04361b67.js"><link rel="prefetch" href="/blog/assets/js/49.6d2224d7.js"><link rel="prefetch" href="/blog/assets/js/5.55eed81d.js"><link rel="prefetch" href="/blog/assets/js/50.980f10c0.js"><link rel="prefetch" href="/blog/assets/js/51.8aca5b36.js"><link rel="prefetch" href="/blog/assets/js/52.07e72d7a.js"><link rel="prefetch" href="/blog/assets/js/53.5611f640.js"><link rel="prefetch" href="/blog/assets/js/54.1cb60b93.js"><link rel="prefetch" href="/blog/assets/js/55.d6f0dfb7.js"><link rel="prefetch" href="/blog/assets/js/56.7749e315.js"><link rel="prefetch" href="/blog/assets/js/57.1b93a5ed.js"><link rel="prefetch" href="/blog/assets/js/58.86fab9d5.js"><link rel="prefetch" href="/blog/assets/js/59.9e74747c.js"><link rel="prefetch" href="/blog/assets/js/6.ce1be70b.js"><link rel="prefetch" href="/blog/assets/js/60.a1bad91b.js"><link rel="prefetch" href="/blog/assets/js/61.98d14240.js"><link rel="prefetch" href="/blog/assets/js/62.185c0294.js"><link rel="prefetch" href="/blog/assets/js/7.613af01f.js"><link rel="prefetch" href="/blog/assets/js/8.f057675c.js"><link rel="prefetch" href="/blog/assets/js/9.c1fe6da1.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.084a55d7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">lzq技术分享</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/docs/blog/" class="nav-link">起点</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发者管理平台" class="dropdown-title"><span class="title">开发者管理平台</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/docs/framework/yapi/" class="nav-link">YApi接口管理品台</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/framework/registry/" class="nav-link">npm服务</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/framework/proDebug/" class="nav-link">真机调试</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/docs/javaScript/" class="nav-link">javaScript</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/jQuery/" class="nav-link">jQuery</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/css/" class="nav-link">css</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/ground/" class="nav-link router-link-active">计算机基础</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/webpack/" class="nav-link">webpack</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/Vue/" class="nav-link">Vue源码解析</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/uniapp/" class="nav-link">uniapp采坑日记</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/React/" class="nav-link">React（生态圈）</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/React2/" class="nav-link">React源码解析（待续）</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/install/" class="nav-link">node(待续）</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="java" class="dropdown-title"><span class="title">java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/docs/install/one.html" class="nav-link">java（待续）</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/install/two.html" class="nav-link">spring（待续）</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="存储" class="dropdown-title"><span class="title">存储</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/docs/mysql/" class="nav-link">mysql</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/redis/" class="nav-link">redis</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/install/two.html" class="nav-link">云数存储（待续）</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/docs/highYield/" class="nav-link">高质文章</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/pitAll/html2canvas.html" class="nav-link">大杂烩</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/pdf/" class="nav-link">为人三会</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/abc123lzq/itdoc" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/docs/blog/" class="nav-link">起点</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发者管理平台" class="dropdown-title"><span class="title">开发者管理平台</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/docs/framework/yapi/" class="nav-link">YApi接口管理品台</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/framework/registry/" class="nav-link">npm服务</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/framework/proDebug/" class="nav-link">真机调试</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/docs/javaScript/" class="nav-link">javaScript</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/jQuery/" class="nav-link">jQuery</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/css/" class="nav-link">css</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/ground/" class="nav-link router-link-active">计算机基础</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/webpack/" class="nav-link">webpack</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/Vue/" class="nav-link">Vue源码解析</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/uniapp/" class="nav-link">uniapp采坑日记</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/React/" class="nav-link">React（生态圈）</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/React2/" class="nav-link">React源码解析（待续）</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/install/" class="nav-link">node(待续）</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="java" class="dropdown-title"><span class="title">java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/docs/install/one.html" class="nav-link">java（待续）</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/install/two.html" class="nav-link">spring（待续）</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="存储" class="dropdown-title"><span class="title">存储</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/docs/mysql/" class="nav-link">mysql</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/redis/" class="nav-link">redis</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/install/two.html" class="nav-link">云数存储（待续）</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/docs/highYield/" class="nav-link">高质文章</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/pitAll/html2canvas.html" class="nav-link">大杂烩</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/pdf/" class="nav-link">为人三会</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/abc123lzq/itdoc" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog/docs/ground/" class="sidebar-link">传输层</a></li><li><a href="/blog/docs/ground/application.html" class="active sidebar-link">应用层</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/docs/ground/application.html#http" class="sidebar-link">HTTP</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/docs/ground/application.html#http状态码" class="sidebar-link">http状态码</a></li><li class="sidebar-sub-header"><a href="/blog/docs/ground/application.html#常见状态码" class="sidebar-link">常见状态码</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/docs/ground/application.html#https" class="sidebar-link">HTTPS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/docs/ground/application.html#https特点" class="sidebar-link">HTTPS特点</a></li><li class="sidebar-sub-header"><a href="/blog/docs/ground/application.html#https-通信流程" class="sidebar-link">https 通信流程</a></li><li class="sidebar-sub-header"><a href="/blog/docs/ground/application.html#抓取https的原理" class="sidebar-link">抓取https的原理</a></li><li class="sidebar-sub-header"><a href="/blog/docs/ground/application.html#数字证书" class="sidebar-link">数字证书</a></li><li class="sidebar-sub-header"><a href="/blog/docs/ground/application.html#安全性考虑" class="sidebar-link">安全性考虑</a></li><li class="sidebar-sub-header"><a href="/blog/docs/ground/application.html#成本考虑" class="sidebar-link">成本考虑</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/docs/ground/application.html#从输入-url-到页面加载完成的过程" class="sidebar-link">从输入 URL 到页面加载完成的过程</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="http"><a href="#http" class="header-anchor">#</a> HTTP</h2> <p>HTTP协议即超文本传送协议，
特点是客户端发送的每次请求都需要服务器回送响应。</p> <p>在请求结束后，会主动释放连接。从建立连接到关闭连接的过程称为<code>“一次连接”</code>。</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>TCP就是单纯建立连接，不涉及任何我们需要请求的实际数据，简单的传输。</p> <p>HTTP是要基于TCP连接基础上的，是用来收发实际数据。</p></div> <h3 id="http状态码"><a href="#http状态码" class="header-anchor">#</a> http状态码</h3> <p><strong>1xx（临时响应）</strong></p> <blockquote><p>表示临时响应并需要请求者继续执行操作的状态码。</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">100</span>     <span class="token comment">//继续  请求者应当继续提出请求。服务器返回此代码表示已收到请求的第一部分，正在等待其余部分。</span>
<span class="token number">101</span>     <span class="token comment">//切换协议  请求者已要求服务器切换协议，服务器已确认并准备切换。</span>
</code></pre></div><p><strong>2xx（成功）</strong></p> <blockquote><p>表示成功处理了请求的状态码。</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">200</span>     <span class="token comment">//成功  服务器已经成功处理了请求。通常，这表示服务器提供了请求的网页。</span>
<span class="token number">201</span>     <span class="token comment">//已创建  请求成功并且服务器创建了新的资源</span>
<span class="token number">202</span>     <span class="token comment">//已接受  服务器已接受请求，但尚未处理</span>
<span class="token number">203</span>     <span class="token comment">//非授权信息  服务器已经成功处理了请求，但返回的信息可能来自另一来源</span>
<span class="token number">204</span>     <span class="token comment">//无内容  服务器成功处理了请求，但没有返回任何内容</span>
<span class="token number">205</span>     <span class="token comment">//重置内容  服务器成功处理了请求，但没有返回任何内容</span>
<span class="token number">206</span>     <span class="token comment">//部分内容  服务器成功处理了部分GET请求</span>
</code></pre></div><p><strong>3xx（重定向）</strong></p> <blockquote><p>要完成请求，需要进一步操作。</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">300</span>     <span class="token comment">//多种选择  针对请求，服务器可执行多种操作。服务器可根据请求者（user agent）选择一项操作，或提供操作列表供请求者选择。</span>
<span class="token number">301</span>     <span class="token comment">//永久移动  请求的网页已永久移动到新位置。服务器返回此响应（对GET或HEAD请求的响应）时，会自动将请求者转到新位置。</span>
<span class="token number">302</span>     <span class="token comment">//临时移动  服务器目前从不同位置的网页响应请求，但请求者应继续使用原有位置来进行以后的请求</span>
<span class="token number">303</span>     <span class="token comment">//查看其它位置  请求者应当对不同的位置使用单独的GET请求来检索响应时，服务器返回此代码</span>
<span class="token number">304</span>     <span class="token comment">//未修改  自动上次请求后，请求的网页未修改过。服务器返回此响应，不会返回网页的内容</span>
<span class="token number">305</span>     <span class="token comment">//使用代理  请求者只能使用代理访问请求的网页。如果服务器返回此响应，还表示请求者应使用代理</span>
<span class="token number">307</span>     <span class="token comment">//临时性重定向  服务器目前从不同位置的网页响应请求，但请求者应继续使用原有的位置来进行以后的请求</span>
</code></pre></div><p><strong>4xx（请求错误）</strong></p> <blockquote><p>请求可能出错，妨碍了服务器的处理。</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">400</span>     <span class="token comment">//错误请求  服务器不理解请求的语法</span>
<span class="token number">401</span>     <span class="token comment">//未授权  请求要求身份验证。对于需要登录的网页，服务器可能返回此响应</span>
<span class="token number">403</span>     <span class="token comment">//禁止  服务器拒绝请求</span>
<span class="token number">404</span>     <span class="token comment">//未找到  服务器找不到请求的网页</span>
<span class="token number">405</span>     <span class="token comment">//方法禁用  禁用请求中指定的方法</span>
<span class="token number">406</span>     <span class="token comment">//不接受  无法使用请求的内容特性响应请求的网页</span>
<span class="token number">407</span>     <span class="token comment">//需要代理授权  此状态码与401（未授权）类似，但指定请求者应当授权使用代理</span>
<span class="token number">408</span>     <span class="token comment">//请求超时  服务器等候请求时发生超时</span>
<span class="token number">409</span>     <span class="token comment">//冲突  服务器在完成请求时发生冲突。服务器必须在响应中包含有关冲突的信息。</span>
<span class="token number">410</span>     <span class="token comment">//已删除  如果请求的资源已永久删除，服务器就会返回此响应</span>
<span class="token number">411</span>     <span class="token comment">//需要有效长度  服务器不接受不含有效内容长度标头字段的请求</span>
<span class="token number">412</span>     <span class="token comment">//未满足前提条件  服务器未满足请求者在请求者设置的其中一个前提条件</span>
<span class="token number">413</span>     <span class="token comment">//请求实体过大  服务器无法处理请求，因为请求实体过大，超出了服务器的处理能力</span>
<span class="token number">414</span>     <span class="token comment">//请求的URI过长  请求的URI（通常为网址）过长，服务器无法处理</span>
<span class="token number">415</span>     <span class="token comment">//不支持媒体类型  请求的格式不受请求页面的支持</span>
<span class="token number">416</span>     <span class="token comment">//请求范围不符合要求  如果页面无法提供请求的范围，则服务器会返回此状态码</span>
<span class="token number">417</span>     <span class="token comment">//未满足期望值  服务器未满足“期望”请求标头字段的要求</span>
</code></pre></div><p><strong>5xx（服务器错误）</strong></p> <blockquote><p>服务器在尝试处理请求时发生内部错误</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">500</span>     <span class="token comment">//服务器内部错误  服务器遇到错误，无法完成请求</span>
<span class="token number">501</span>     <span class="token comment">//尚未实施  服务器不具备完成请求的功能。例如，服务器无法识别请求方法时可能会返回此代码</span>
<span class="token number">502</span>     <span class="token comment">//错误网关  服务器作为网关或代理，从上游服务器无法收到无效响应</span>
<span class="token number">503</span>     <span class="token comment">//服务器不可用  服务器目前无法使用（由于超载或者停机维护）。通常，这只是暂时状态</span>
<span class="token number">504</span>     <span class="token comment">//网关超时  服务器作为网关代理，但是没有及时从上游服务器收到请求</span>
<span class="token number">505</span>     <span class="token comment">//HTTP版本不受支持  服务器不支持请求中所用的HTTP协议版本</span>
</code></pre></div><h3 id="常见状态码"><a href="#常见状态码" class="header-anchor">#</a> 常见状态码</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">200</span>  <span class="token comment">//服务器成功返</span>
<span class="token number">404</span>  <span class="token comment">//服务器没有资源</span>
<span class="token number">500</span>  <span class="token comment">//服务器内报错</span>
<span class="token number">503</span>  <span class="token comment">//服务器不可用</span>
</code></pre></div><h2 id="https"><a href="#https" class="header-anchor">#</a> HTTPS</h2> <p>HTTPS是基于HTTP协议，通过SSL或TLS提供加密处理数据、验证对方身份以及数据完整性保护。</p> <h3 id="https特点"><a href="#https特点" class="header-anchor">#</a> HTTPS特点</h3> <ol><li>内容加密：采用混合加密技术，中间者无法直接查看明文内容</li> <li>验证身份：通过证书认证客户端访问的是自己的服务器，所以收方能够证实发送方的真实身份</li> <li>保护数据完整性：防止传输的内容被中间人冒充或者篡改</li></ol> <h3 id="https-通信流程"><a href="#https-通信流程" class="header-anchor">#</a> https 通信流程</h3> <br> <br> <br> <img src="/blog/ground/1589340937.jpg?v=1" width="700" alt="img"> <p><code>客户端的TLS解析证书</code>，首先会验证公钥是否有效，如果发现异常，则会弹出一个警告框，提示证书存在问题。</p> <p>对称密钥用于SSL 协议的安全数据通讯的加解密通讯。同时在<code>SSL 通讯</code>过程中还要完成数据通讯的完整性，防止数据通讯中的任何变化。</p> <h3 id="抓取https的原理"><a href="#抓取https的原理" class="header-anchor">#</a> 抓取https的原理</h3> <br> <br> <img src="/blog/ground/1589340883.jpg?v=1" width="700" alt="img"> <p>前提是客户端选择信任并安装，网络代理方的CA证书，否则客户端就会“报警”并中止连接。(因为有第三者在拦截你的传输数据)。</p> <h3 id="数字证书"><a href="#数字证书" class="header-anchor">#</a> 数字证书</h3> <p><strong>证书内容</strong></p> <p>包括了加密后服务器的公钥、权威机构的信息、服务器域名，还有经过CA私钥签名之后的证书内容，签名计算方法以及证书对应的域名。</p> <p><strong>验证证书安全性过程</strong></p> <p>当客户端收到这个证书之后，使用本地配置的权威机构的公钥对证书进行解密得到服务端的公钥和证书的数字签名，数字签名经过CA公钥解密得到证书信息摘要。</p> <p>然后证书签名的方法计算一下当前证书的信息摘要，与收到的信息摘要作对比，如果一样，表示证书一定是服务器下发的，没有被中间人篡改过。因为中间人虽然有权威机构的公钥，能够解析证书内容并篡改，但是篡改完成之后中间人需要将证书重新加密，但是中间人没有权威机构的私钥，无法加密，强行加密只会导致客户端无法解密，如果中间人强行乱修改证书，就会导致证书内容和证书签名不匹配。</p> <p>那第三方攻击者能否让自己的证书显示出来的信息也是服务端呢？（伪装服务端一样的配置）显然这个是不行的，因为当第三方攻击者去CA那边寻求认证的时候CA会要求其提供例如域名的whois信息、域名管理邮箱等证明你是服务端域名的拥有者，而第三方攻击者是无法提供这些信息所以他就是无法骗CA他拥有属于服务端的域名。</p> <h3 id="安全性考虑"><a href="#安全性考虑" class="header-anchor">#</a> 安全性考虑</h3> <ol><li><p>HTTPS协议的加密范围也比较有限，在黑客攻击、拒绝服务攻击、服务器劫持等方面几乎起不到什么作用</p></li> <li><p>SSL证书的信用链体系并不安全，特别是在某些国家可以控制CA根证书的情况下，中间人攻击一样可行</p></li> <li><p>中间人攻击（MITM攻击）是指，黑客拦截并篡改网络中的通信数据。又分为被动MITM和主动MITM，被动MITM只窃取通信数据而不修改，而主动MITM不但能窃取数据，还会篡改通信数据。最常见的中间人攻击常常发生在公共wifi或者公共路由上。</p></li></ol> <h3 id="成本考虑"><a href="#成本考虑" class="header-anchor">#</a> 成本考虑</h3> <ol><li><p>SSL证书需要购买申请，功能越强大的证书费用越高</p></li> <li><p>SSL证书通常需要绑定IP，不能在同一IP上绑定多个域名，IPv4资源不可能支撑这个消耗（SSL有扩展可以部分解决这个问题，但是比较麻烦，而且要求浏览器、操作系统支持，Windows XP就不支持这个扩展，考虑到XP的装机量，这个特性几乎没用）。</p></li> <li><p>HTTPS连接缓存不如HTTP高效，流量成本高。</p></li> <li><p>HTTPS连接服务器端资源占用高很多，支持访客多的网站需要投入更大的成本。</p></li> <li><p>HTTPS协议握手阶段比较费时，对网站的响应速度有影响，影响用户体验。比较好的方式是采用分而治之，比如主页使用HTTP协议，有关于用户信息等方面使用HTTPS。</p></li></ol> <h2 id="从输入-url-到页面加载完成的过程"><a href="#从输入-url-到页面加载完成的过程" class="header-anchor">#</a> 从输入 URL 到页面加载完成的过程</h2> <ol><li><p><strong>首先做 DNS 查询</strong>，如果这一步做了智能 DNS 解析的话，会提供访问速度最快的 IP 地址回来</p></li> <li><p><strong>查找强缓存</strong>
先检查强缓存，如果命中直接使用，否则进入下一步。关于强缓存，如果不清楚可以参考上一篇文章。</p></li> <li><p><strong>接下来是 TCP 握手</strong>，应用层会下发数据给传输层，这里 TCP 协议会指明两端的端口号，然后下发给网络层。网络层中的 IP 协议会确定 IP 地址，并且指示了数据传输中如何跳转路由器。然后包会再被封装到数据链路层的数据帧结构中，最后就是物理层面的传输了</p></li> <li><p>TCP 握手结束后会进行 <strong>TLS 握手</strong>，然后就开始正式的传输数据</p></li> <li><p><strong>数据在进入服务端</strong>之前，可能还会先经过负责负载均衡的服务器，它的作用就是将请求合理的分发到多台服务器上，这时<strong>假设服务端会响应一个 HTML 文件</strong></p></li> <li><p><strong>首先浏览器会判断状态码</strong>是什么，如果是 200 那就继续解析，如果 400 或 500 的话就会报错，如果 300 的话会进行重定向，这里会有个重定向计数器，避免过多次的重定向，超过次数也会报错</p></li> <li><p><strong>浏览器开始解析文件</strong>，如果是 gzip 格式的话会先解压一下，然后通过文件的编码格式知道该如何去解码文件</p></li> <li><p><strong>文件解码成功后会正式开始渲染流程</strong>，先会根据 HTML 构建 DOM 树，有 CSS 的话会去构建 CSSOM 树。如果遇到 script 标签的话，会判断是否存在 async 或者 defer ，前者会并行进行下载并执行 JS，后者会先下载文件，然后等待 HTML 解析完成后顺序执行，如果以上都没有，就会阻塞住渲染流程直到 JS 执行完毕。遇到文件下载的会去下载文件，这里如果使用 HTTP 2.0 协议的话会极大的提高多图的下载效率。</p></li> <li><p><strong>初始的 HTML</strong> 被完全加载和解析后会触发 DOMContentLoaded 事件</p></li> <li><p>CSSOM 树和 DOM 树构建完成后会开始生成 Render 树，这一步就是确定<strong>页面元素的布局、样式</strong>等等诸多方面的东西</p></li> <li><p>在生成 Render 树的过程中，浏览器就开始调用 <strong>GPU 绘制，合成图层</strong>，将内容显示在屏幕上了</p></li></ol> <div id="comment"></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/docs/ground/" class="prev router-link-active">传输层</a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.fa8ed7ae.js" defer></script><script src="/blog/assets/js/2.7c68edec.js" defer></script><script src="/blog/assets/js/35.c728ba75.js" defer></script><script src="/blog/assets/js/3.3e80c302.js" defer></script>
  </body>
</html>
